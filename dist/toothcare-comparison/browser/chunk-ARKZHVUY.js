import{c as Z,d as L,f as R,g as ee,h as O}from"./chunk-WXI33M2S.js";import{a as y,b as N,c as T,d as _,f as s,h as D,i as G,j as V,k as W,l as X,m as A,n as M,o as k,s as Y,u as I}from"./chunk-YE6GBJUK.js";import{c as H,h as J,k as K}from"./chunk-SYDIEAGX.js";import{a as Q}from"./chunk-DLCVOQ2K.js";import{$a as v,Ia as z,Oa as C,Qa as c,Sa as S,Ta as F,U as j,Ua as P,Va as e,Wa as t,Xa as l,Y as q,Ya as E,Z as x,_a as u,ab as g,ga as f,gb as a,ha as h,jb as w,ma as U,na as B,ya as d}from"./chunk-DYHRJMNH.js";function $(o){return Z(o,[ee("in",R({transform:"scale(0)",height:"0"})),O("void => *",[R({transform:"scale(0)",height:"0"}),L(300)]),O("* => void",[L(300,R({transform:"scale(0)",height:"0"}))])])}var oe=(o,i)=>i.period.start+i.period.end+i.price;function ne(o,i){if(o&1){let p=E();e(0,"div",10)(1,"div",13),a(2," Age "),t(),e(3,"div",14),l(4,"input",15),t(),e(5,"div",16),a(6," - "),t(),e(7,"div",14),l(8,"input",17),t(),e(9,"div",16),a(10," : "),t(),e(11,"div",18),l(12,"input",19),t(),e(13,"div",20)(14,"button",21),u("click",function(){let m=f(p).$index,n=v();return h(n.removePrice(m))}),a(15,"remove"),t()()()}if(o&2){let p=i.$index;c("formGroupName",p)("@priceAnimation",void 0)}}function ae(o,i){o&1&&(e(0,"div",3),a(1,"no prices added"),t())}var te=(()=>{let i=class i{constructor(){this.provider=B.required(),this.removeEmitter=U({alias:"onRemove"}),this.updateEmitter=U({alias:"onUpdate"}),this.element_id="insurance_provider_"+Math.random()+Math.random()}ngOnInit(){this.insuranceProviderForm=new _({name:new s(this.provider().name),coverage_part:new s(this.provider().coverage_part),prices:new Y([])}),this.provider().prices.forEach(r=>{this.insuranceProviderForm.get("prices").push(this.buildPriceFormGroup(r))}),this.insuranceProviderForm.valueChanges.subscribe(()=>this.updateEmitter.emit(this.insuranceProviderForm.value))}addPrice(){let r=this.buildPriceFormGroup();this.insuranceProviderForm.get("prices").push(r),this.updateEmitter.emit(this.insuranceProviderForm.value)}get prices(){return this.insuranceProviderForm.get("prices").controls}removeProvider(){this.removeEmitter.emit(null)}removePrice(r){this.insuranceProviderForm.get("prices").removeAt(r)}buildPriceFormGroup(r){return new _({period:new _({start:new s(r?.period.start),end:new s(r?.period.end)}),price:new s(r?.price)})}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=x({type:i,selectors:[["insurance-provider"]],inputs:{provider:[q.SignalBased,"provider"]},outputs:{removeEmitter:"onRemove",updateEmitter:"onUpdate"},standalone:!0,features:[w],decls:26,vars:10,consts:[[1,"py-2","mb-4","shadow","rounded",3,"formGroup"],[1,"form-group"],[1,"row","col",3,"for"],[1,"row"],[1,"col-md-10"],["name","name","formControlName","name",1,"form-control",3,"id"],[1,"col"],[1,"button-remove-provider","btn","btn-outline-danger",3,"click"],["name","coverage_part","formControlName","coverage_part",1,"form-control",3,"id"],["formArrayName","prices",1,"form-group","col-md-12"],[1,"row","row-provider-price","mt-2",3,"formGroupName"],["role","toolbar",1,"btn-toolbar","mt-2"],[1,"button-add-price","btn","btn-outline-primary","float-right",3,"click"],[1,"mx-0","mt-2"],["formGroupName","period",1,"col","col-md-3","mx-0"],["name","period_start","placeholder","Start age","type","number","min","16","max","70","formControlName","start",1,"form-control"],[1,"mx-0","px-0","mt-2"],["name","period_end","placeholder","End age","type","number","min","16","max","70","formControlName","end",1,"form-control"],[1,"col","col-md-3","mx-0"],["name","period_price","placeholder","Price","type","number","min","0","max","999","step","0.1","formControlName","price",1,"form-control"],[1,"mx-0"],[1,"button-remove-price","btn","btn-outline-danger",3,"click"]],template:function(m,n){m&1&&(e(0,"form",0)(1,"div",1)(2,"label",2),a(3,"Name:"),t(),e(4,"div",3)(5,"div",4),l(6,"input",5),t(),e(7,"div",6)(8,"button",7),u("click",function(){return n.removeProvider()}),a(9,"remove"),t()()()(),e(10,"div",1)(11,"label",2),a(12,"Coverage part (%):"),t(),e(13,"div",3)(14,"div",4),l(15,"input",8),t()()(),e(16,"div",9)(17,"label"),a(18,"Prices:"),t(),F(19,ne,16,2,"div",10,oe),C(21,ae,2,0,"div",3),e(22,"div",3)(23,"div",11)(24,"button",12),u("click",function(){return n.addPrice()}),a(25,"add price"),t()()()()()),m&2&&(c("formGroup",n.insuranceProviderForm),d(2),g("for","",n.element_id,"_provider_name"),d(4),g("id","",n.element_id,"_provider_name"),d(5),g("for","",n.element_id,"_provider_coverage_part"),d(4),g("id","",n.element_id,"_provider_coverage_part"),d(4),P(n.provider().prices),d(2),S(21,n.provider().prices.length===0?21:-1))},dependencies:[I,D,y,G,N,T,k,M,V,A,W,X],styles:["input[_ngcontent-%COMP%]{min-width:100px}"],data:{animation:[$("priceAnimation")]}});let o=i;return o})();var me=(o,i)=>i.name+i.coverage_part;function de(o,i){if(o&1){let p=E();e(0,"div")(1,"insurance-provider",14),u("onRemove",function(){let m=f(p).$index,n=v();return h(n.removeProvider(m))})("onUpdate",function(m){let n=f(p).$index,b=v();return h(b.updateProvider(n,m))}),t()()}if(o&2){let p=i.$implicit,r=v();c("@providerAnimation",void 0)("@.disabled",r.animationsDisabled()),d(),c("provider",p)}}function le(o,i){o&1&&(e(0,"span",1),a(1,"No providers selected"),t())}var we=(()=>{let i=class i{constructor(){this.animationsDisabled=z(!0),this.dataService=j(Q),this.providers=this.dataService.getProvidersSignal();let r=this.dataService.getMissingTeethData();this.missingTeethDataForm=new _({teeth_min:new s(r.teeth_min),teeth_max:new s(r.teeth_max),tooth_price:new s(r.tooth_price)}),this.missingTeethDataForm.valueChanges.subscribe(()=>this.dataService.setMissingTeethData(this.missingTeethDataForm.value))}ngAfterViewInit(){setTimeout(()=>this.animationsDisabled.set(!1),0)}addProvider(){this.dataService.addNewProvider()}updateProvider(r,m){this.dataService.updateProvider(r,m)}removeProvider(r){this.dataService.removeProvider(r)}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=x({type:i,selectors:[["providers"]],standalone:!0,features:[w],decls:31,vars:2,consts:[[1,"form-group"],[1,"message-no-providers"],[1,"button-add-provider","row","col","m-2","btn","btn-outline-primary",3,"click"],[3,"formGroup"],["for","missing_tooth_price"],[1,"row"],[1,"col-lg-2"],["id","missing_tooth_price","type","number","step","100","formControlName","tooth_price",1,"form-control"],["for","missing_teeth_min"],["id","missing_teeth_min","type","number","min","0","max","32","formControlName","teeth_min",1,"form-control"],[1,"col-lg-1"],["id","missing_teeth_max","type","number","min","0","max","32","formControlName","teeth_max",1,"form-control"],[1,"col"],["routerLink","/diagram",1,"btn","btn-primary"],[3,"onRemove","onUpdate","provider"]],template:function(m,n){m&1&&(e(0,"h2"),a(1,"Providers:"),t(),e(2,"div",0),F(3,de,2,3,"div",null,me),C(5,le,2,0,"span",1),e(6,"button",2),u("click",function(){return n.addProvider()}),a(7,"add provider"),t()(),e(8,"h2"),a(9,"Additional parameters:"),t(),e(10,"form",3)(11,"div",0)(12,"label",4),a(13,"Missing tooth recovery price:"),t(),e(14,"div",5)(15,"div",6),l(16,"input",7),t()()(),e(17,"div",0)(18,"label",8),a(19,"Calculate for missing teeth between:"),t(),e(20,"div",5)(21,"div",6),l(22,"input",9),t(),e(23,"div",10),a(24,"and"),t(),e(25,"div",6),l(26,"input",11),t()()()(),e(27,"div",5)(28,"div",12)(29,"button",13),a(30,"Go to calculation"),t()()()),m&2&&(d(3),P(n.providers()),d(2),S(5,n.providers().length===0?5:-1),d(5),c("formGroup",n.missingTeethDataForm))},dependencies:[te,I,D,y,G,N,T,k,M,V,A,H,K,J],data:{animation:[$("providerAnimation")]}});let o=i;return o})();export{we as ProvidersComponent};
